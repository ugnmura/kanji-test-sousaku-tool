import{s as At,n as gt,r as Nt,o as Pt}from"../chunks/scheduler.CtbWrGNo.js";import{S as jt,i as Bt,n as xt,h as at,d as g,e as r,s as m,t as it,c as i,a as V,g as A,b,l as ct,f as s,j as e,o as kt,p as $t,q as It,r as Y,u as yt,v as Et,k as St,w as Tt,x as ft}from"../chunks/index.DwnZsTWr.js";import{e as Vt}from"../chunks/each.D6YF6ztN.js";function Ut(l){let n,t,a,o="読み",c,w,U,C,u,f,J="読み 答え",O,x,M,p,v,y,$="書き",k,D,K,N,B,P,Z="書き 答え",R,E,tt;return{c(){n=r("div"),t=r("div"),a=r("h3"),a.textContent=o,c=m(),w=r("a"),U=it("リンク"),C=m(),u=r("div"),f=r("h3"),f.textContent=J,O=m(),x=r("a"),M=it("リンク"),p=m(),v=r("div"),y=r("h3"),y.textContent=$,k=m(),D=r("a"),K=it("リンク"),N=m(),B=r("div"),P=r("h3"),P.textContent=Z,R=m(),E=r("a"),tt=it("リンク"),this.h()},l(H){n=i(H,"DIV",{class:!0});var _=V(n);t=i(_,"DIV",{});var q=V(t);a=i(q,"H3",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-5bix0r"&&(a.textContent=o),c=b(q),w=i(q,"A",{class:!0,href:!0,target:!0});var S=V(w);U=ct(S,"リンク"),S.forEach(g),q.forEach(g),C=b(_),u=i(_,"DIV",{});var Q=V(u);f=i(Q,"H3",{class:!0,"data-svelte-h":!0}),A(f)!=="svelte-1w0mbs5"&&(f.textContent=J),O=b(Q),x=i(Q,"A",{class:!0,href:!0,target:!0});var et=V(x);M=ct(et,"リンク"),et.forEach(g),Q.forEach(g),p=b(_),v=i(_,"DIV",{});var z=V(v);y=i(z,"H3",{class:!0,"data-svelte-h":!0}),A(y)!=="svelte-iolcrs"&&(y.textContent=$),k=b(z),D=i(z,"A",{class:!0,href:!0,target:!0});var nt=V(D);K=ct(nt,"リンク"),nt.forEach(g),z.forEach(g),N=b(_),B=i(_,"DIV",{});var j=V(B);P=i(j,"H3",{class:!0,"data-svelte-h":!0}),A(P)!=="svelte-1r640am"&&(P.textContent=Z),R=b(j),E=i(j,"A",{class:!0,href:!0,target:!0});var F=V(E);tt=ct(F,"リンク"),F.forEach(g),j.forEach(g),_.forEach(g),this.h()},h(){s(a,"class","text-lg font-bold"),s(w,"class","text-blue-500"),s(w,"href",l[3]),s(w,"target","_blank"),s(f,"class","text-lg font-bold"),s(x,"class","text-blue-500"),s(x,"href",l[1]),s(x,"target","_blank"),s(y,"class","text-lg font-bold"),s(D,"class","text-blue-500"),s(D,"href",l[4]),s(D,"target","_blank"),s(P,"class","text-lg font-bold"),s(E,"class","text-blue-500"),s(E,"href",l[2]),s(E,"target","_blank"),s(n,"class","mt-4 space-y-4")},m(H,_){at(H,n,_),e(n,t),e(t,a),e(t,c),e(t,w),e(w,U),e(n,C),e(n,u),e(u,f),e(u,O),e(u,x),e(x,M),e(n,p),e(n,v),e(v,y),e(v,k),e(v,D),e(D,K),e(n,N),e(n,B),e(B,P),e(B,R),e(B,E),e(E,tt)},p(H,_){_&8&&s(w,"href",H[3]),_&2&&s(x,"href",H[1]),_&16&&s(D,"href",H[4]),_&4&&s(E,"href",H[2])},d(H){H&&g(n)}}}function Ft(l){let n,t=l[0]&&Ut(l);return{c(){t&&t.c(),n=xt()},l(a){t&&t.l(a),n=xt()},m(a,o){t&&t.m(a,o),at(a,n,o)},p(a,[o]){a[0]?t?t.p(a,o):(t=Ut(a),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},i:gt,o:gt,d(a){a&&g(n),t&&t.d(a)}}}function Ot(l,n,t){let a,o,c,w,U,{vocabList:C}=n;return l.$$set=u=>{"vocabList"in u&&t(5,C=u.vocabList)},l.$$.update=()=>{l.$$.dirty&32&&t(0,a=C.filter(({front:u,back:f})=>u&&f).map(({front:u,back:f})=>`${encodeURIComponent(u)}=${encodeURIComponent(f)}`).join("&")),l.$$.dirty&1&&t(4,o=`${window.location.origin}${window.location.pathname}back?${a}`),l.$$.dirty&1&&t(3,c=`${window.location.origin}${window.location.pathname}front?${a}`),l.$$.dirty&1&&t(2,w=`${window.location.origin}${window.location.pathname}back/answer?${a}`),l.$$.dirty&1&&t(1,U=`${window.location.origin}${window.location.pathname}front/answer?${a}`)},[a,U,w,c,o,C]}class Dt extends jt{constructor(n){super(),Bt(this,n,Ot,Ft,At,{vocabList:5})}}function Ht(l,n,t){const a=l.slice();return a[12]=n[t].front,a[13]=n[t].back,a[14]=n,a[15]=t,a}function Lt(l){let n,t,a,o,c,w;function U(){l[9].call(t,l[14],l[15])}function C(){l[10].call(o,l[14],l[15])}return{c(){n=r("div"),t=r("input"),a=m(),o=r("input"),this.h()},l(u){n=i(u,"DIV",{class:!0});var f=V(n);t=i(f,"INPUT",{type:!0,placeholder:!0,class:!0}),a=b(f),o=i(f,"INPUT",{type:!0,placeholder:!0,class:!0}),f.forEach(g),this.h()},h(){s(t,"type","text"),s(t,"placeholder","書き"),s(t,"class","border p-1"),s(o,"type","text"),s(o,"placeholder","読み"),s(o,"class","border p-1"),s(n,"class","flex gap-2 mb-2")},m(u,f){at(u,n,f),e(n,t),ft(t,l[12]),e(n,a),e(n,o),ft(o,l[13]),c||(w=[Y(t,"input",U),Y(o,"input",C)],c=!0)},p(u,f){l=u,f&1&&t.value!==l[12]&&ft(t,l[12]),f&1&&o.value!==l[13]&&ft(o,l[13])},d(u){u&&g(n),c=!1,Nt(w)}}}function Mt(l){let n,t="漢字テスト創作ツール",a,o,c,w="漢字テスト創作ツール",U,C,u,f,J="追加",O,x,M="削除",p,v,y,$,k,D="すべての単語",K,N,B,P,Z,R,E,tt="テスト作成",H,_,q,S,Q="作成",et,z,nt,j,F,mt=".csvファイルをインポート",dt,ot,ut,ht,pt,st,G,bt="リセット",rt,vt,wt,lt=Vt(l[0]),T=[];for(let d=0;d<lt.length;d+=1)T[d]=Lt(Ht(l,lt,d));return N=new Dt({props:{vocabList:l[0]}}),_=new Dt({props:{vocabList:l[1]}}),{c(){n=r("title"),n.textContent=t,a=m(),o=r("div"),c=r("h1"),c.textContent=w,U=m(),C=r("div");for(let d=0;d<T.length;d+=1)T[d].c();u=m(),f=r("button"),f.textContent=J,O=m(),x=r("button"),x.textContent=M,p=m(),v=r("hr"),y=m(),$=r("div"),k=r("h2"),k.textContent=D,K=m(),kt(N.$$.fragment),B=m(),P=r("hr"),Z=m(),R=r("div"),E=r("h2"),E.textContent=tt,H=m(),kt(_.$$.fragment),q=m(),S=r("button"),S.textContent=Q,et=m(),z=r("hr"),nt=m(),j=r("div"),F=r("h2"),F.textContent=mt,dt=m(),ot=r("input"),ut=m(),ht=r("hr"),pt=m(),st=r("div"),G=r("button"),G.textContent=bt,this.h()},l(d){n=i(d,"TITLE",{"data-svelte-h":!0}),A(n)!=="svelte-18ext80"&&(n.textContent=t),a=b(d),o=i(d,"DIV",{class:!0});var h=V(o);c=i(h,"H1",{class:!0,"data-svelte-h":!0}),A(c)!=="svelte-s45oc5"&&(c.textContent=w),U=b(h),C=i(h,"DIV",{});var L=V(C);for(let _t=0;_t<T.length;_t+=1)T[_t].l(L);u=b(L),f=i(L,"BUTTON",{class:!0,"data-svelte-h":!0}),A(f)!=="svelte-1sxrb4u"&&(f.textContent=J),O=b(L),x=i(L,"BUTTON",{class:!0,"data-svelte-h":!0}),A(x)!=="svelte-e8npru"&&(x.textContent=M),L.forEach(g),p=b(h),v=i(h,"HR",{}),y=b(h),$=i(h,"DIV",{});var W=V($);k=i(W,"H2",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-ymxsr8"&&(k.textContent=D),K=b(W),$t(N.$$.fragment,W),W.forEach(g),B=b(h),P=i(h,"HR",{}),Z=b(h),R=i(h,"DIV",{});var I=V(R);E=i(I,"H2",{class:!0,"data-svelte-h":!0}),A(E)!=="svelte-kcwj09"&&(E.textContent=tt),H=b(I),$t(_.$$.fragment,I),q=b(I),S=i(I,"BUTTON",{class:!0,"data-svelte-h":!0}),A(S)!=="svelte-4x4aiu"&&(S.textContent=Q),I.forEach(g),et=b(h),z=i(h,"HR",{}),nt=b(h),j=i(h,"DIV",{});var X=V(j);F=i(X,"H2",{class:!0,"data-svelte-h":!0}),A(F)!=="svelte-mil6eb"&&(F.textContent=mt),dt=b(X),ot=i(X,"INPUT",{type:!0,accept:!0}),X.forEach(g),ut=b(h),ht=i(h,"HR",{}),pt=b(h),st=i(h,"DIV",{});var Ct=V(st);G=i(Ct,"BUTTON",{class:!0,"data-svelte-h":!0}),A(G)!=="svelte-174hc3"&&(G.textContent=bt),Ct.forEach(g),h.forEach(g),this.h()},h(){s(c,"class","text-3xl font-bold"),s(f,"class","border p-1"),s(x,"class","border p-1"),s(k,"class","text-xl font-bold"),s(E,"class","text-xl font-bold"),s(S,"class","border p-1"),s(F,"class","text-xl font-bold"),s(ot,"type","file"),s(ot,"accept",".csv"),s(G,"class","border p-1"),s(o,"class","m-4 space-y-4")},m(d,h){at(d,n,h),at(d,a,h),at(d,o,h),e(o,c),e(o,U),e(o,C);for(let L=0;L<T.length;L+=1)T[L]&&T[L].m(C,null);e(C,u),e(C,f),e(C,O),e(C,x),e(o,p),e(o,v),e(o,y),e(o,$),e($,k),e($,K),It(N,$,null),e(o,B),e(o,P),e(o,Z),e(o,R),e(R,E),e(R,H),It(_,R,null),e(R,q),e(R,S),e(o,et),e(o,z),e(o,nt),e(o,j),e(j,F),e(j,dt),e(j,ot),e(o,ut),e(o,ht),e(o,pt),e(o,st),e(st,G),rt=!0,vt||(wt=[Y(f,"click",l[2]),Y(x,"click",l[3]),Y(S,"click",l[4]),Y(ot,"change",l[5]),Y(G,"click",l[6])],vt=!0)},p(d,[h]){if(h&1){lt=Vt(d[0]);let I;for(I=0;I<lt.length;I+=1){const X=Ht(d,lt,I);T[I]?T[I].p(X,h):(T[I]=Lt(X),T[I].c(),T[I].m(C,u))}for(;I<T.length;I+=1)T[I].d(1);T.length=lt.length}const L={};h&1&&(L.vocabList=d[0]),N.$set(L);const W={};h&2&&(W.vocabList=d[1]),_.$set(W)},i(d){rt||(yt(N.$$.fragment,d),yt(_.$$.fragment,d),rt=!0)},o(d){Et(N.$$.fragment,d),Et(_.$$.fragment,d),rt=!1},d(d){d&&(g(n),g(a),g(o)),St(T,d),Tt(N),Tt(_),vt=!1,Nt(wt)}}}function Rt(l){const n=l.slice();for(let t=n.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[n[t],n[a]]=[n[a],n[t]]}return n}function qt(l,n,t){let a,o,c=[],w=[];const U=()=>{t(0,c=[...c,{front:"",back:""}])},C=()=>{c.pop(),t(0,c)},u=()=>{if(c.length<=20){const p=Rt(c);t(1,w=p)}else{const p=Rt(c);t(1,w=p.slice(0,20))}};Pt(()=>{const p=new URLSearchParams(window.location.search);t(0,c=Array.from(p.entries()).map(([v,y])=>({front:v,back:y}))),c.length==0&&U()});const f=async p=>{var $;const v=p.target;if(!(($=v.files)!=null&&$.length))return;const y=v.files[0];if(y){const k=await y.text();J(k)}},J=p=>{let y=p.split(`
`).map($=>{const[k,D]=$.split(";");return k&&D?{front:k.trim(),back:D.trim()}:{front:"",back:""}}).filter(({front:$,back:k})=>$&&k).map(({front:$,back:k})=>`${encodeURIComponent($)}=${encodeURIComponent(k)}`).join("&");window.location.replace(`${window.location.origin}${window.location.pathname}?${y}`)},O=()=>{window.location.replace(`${window.location.origin}${window.location.pathname}`)};function x(p,v){p[v].front=this.value,t(0,c)}function M(p,v){p[v].back=this.value,t(0,c)}return l.$$.update=()=>{l.$$.dirty&1&&t(7,a=c.filter(({front:p,back:v})=>p&&v).map(({front:p,back:v})=>`${encodeURIComponent(p)}=${encodeURIComponent(v)}`).join("&")),l.$$.dirty&128&&t(8,o=`${window.location.origin}${window.location.pathname}?${a}`),l.$$.dirty&257&&c.length>0&&window.history.pushState({path:o},"",o)},[c,w,U,C,u,f,O,a,o,x,M]}class Kt extends jt{constructor(n){super(),Bt(this,n,qt,Mt,At,{})}}export{Kt as component};
